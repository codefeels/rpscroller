{"version":3,"file":"RedGifsCard-folAkRte.js","sources":["../../src/RedGifsCard.tsx"],"sourcesContent":["import { useDebounceValue, useIntersectionObserver } from 'usehooks-ts'\nimport { redGifUrlToId, type Post } from './util'\nimport { useAppStore } from './store'\n\nfunction RedGifsCardLoaded({ post }: { post: Post }) {\n  const { title, url } = post\n  return (\n    <>\n      <iframe\n        title={title}\n        src={`https://www.redgifs.com/ifr/${redGifUrlToId(url)}`}\n        className=\"h-[80vh] w-full\"\n        loading=\"lazy\"\n        allowFullScreen\n        scrolling=\"no\"\n        frameBorder=\"0\"\n      />\n    </>\n  )\n}\n\nfunction RedGifsLoading() {\n  return (\n    <div className=\"flex flex-col animate-pulse space-y-4 m-20 w-full h-[80vh]\">\n      <div className=\"rounded-full bg-slate-700 h-10 w-10\" />\n      <div className=\"rounded-full bg-slate-700 h-10 w-10\" />\n      <div className=\"rounded-full bg-slate-700 h-10 w-10\" />\n      <div className=\"rounded-full bg-slate-700 h-10 w-10\" />\n    </div>\n  )\n}\n\nexport default function RedGifsCard({ post }: { post: Post }) {\n  const { isFullscreen } = useAppStore()\n  const { isIntersecting, ref } = useIntersectionObserver({\n    threshold: isFullscreen ? 1 : 0.4,\n  })\n  const [debouncedIsIntersecting] = useDebounceValue(isIntersecting, 1000)\n\n  return (\n    <div ref={ref}>\n      {debouncedIsIntersecting ? (\n        <RedGifsCardLoaded post={post} />\n      ) : (\n        <RedGifsLoading />\n      )}\n    </div>\n  )\n}\n"],"names":["RedGifsCardLoaded","post","title","url","jsx","Fragment","redGifUrlToId","RedGifsLoading","jsxs","RedGifsCard","isFullscreen","useAppStore","isIntersecting","ref","useIntersectionObserver","debouncedIsIntersecting","useDebounceValue"],"mappings":"oEAIA,SAASA,EAAkB,CAAE,KAAAC,GAAwB,CAC7C,KAAA,CAAE,MAAAC,EAAO,IAAAC,CAAA,EAAQF,EACvB,OAEIG,MAAAC,EAAAA,SAAA,CAAA,SAAAD,EAAA,IAAC,SAAA,CACC,MAAAF,EACA,IAAK,+BAA+BI,EAAcH,CAAG,CAAC,GACtD,UAAU,kBACV,QAAQ,OACR,gBAAe,GACf,UAAU,KACV,YAAY,GAAA,CAAA,EAEhB,CAEJ,CAEA,SAASI,GAAiB,CAEtB,OAAAC,EAAA,KAAC,MAAI,CAAA,UAAU,6DACb,SAAA,CAACJ,EAAAA,IAAA,MAAA,CAAI,UAAU,qCAAsC,CAAA,EACrDA,EAAAA,IAAC,MAAI,CAAA,UAAU,qCAAsC,CAAA,EACrDA,EAAAA,IAAC,MAAI,CAAA,UAAU,qCAAsC,CAAA,EACrDA,EAAAA,IAAC,MAAI,CAAA,UAAU,qCAAsC,CAAA,CAAA,EACvD,CAEJ,CAEwB,SAAAK,EAAY,CAAE,KAAAR,GAAwB,CACtD,KAAA,CAAE,aAAAS,CAAa,EAAIC,EAAY,EAC/B,CAAE,eAAAC,EAAgB,IAAAC,CAAI,EAAIC,EAAwB,CACtD,UAAWJ,EAAe,EAAI,EAAA,CAC/B,EACK,CAACK,CAAuB,EAAIC,EAAiBJ,EAAgB,GAAI,EAGrE,OAAAR,EAAAA,IAAC,MAAI,CAAA,IAAAS,EACF,SACCE,EAAAX,EAAA,IAACJ,GAAkB,KAAAC,CAAY,CAAA,EAE9BG,EAAAA,IAAAG,EAAA,CAAA,CAAe,CAEpB,CAAA,CAEJ"}