import{j as e,u as j,r as u,B as c,h as k,M as p,G as w,a as S,F as N,b as M,c as V,d as h,e as x,f as y,i as g,n as f,L as F}from"./index-Cftb6_VV.js";import{I as L}from"./index-BR8RLJhi.js";import{B}from"./BaseDialog-D8InQV9g.js";function l({children:t,onClick:s}){return e.jsx("div",{className:"hover:bg-gray-300 dark:hover:bg-gray-600 cursor-pointer m-1 whitespace-nowrap",onClick:s,children:t})}function E(){const t=j(),{val:s}=t,[a,o]=u.useState(s);return u.useEffect(()=>{o(s)},[s]),e.jsx("form",{className:"inline",onSubmit:r=>{r.preventDefault(),t.setVal(a)},children:e.jsxs("div",{className:"max-w-full flex",children:[e.jsx("input",{id:"box",type:"text",className:"m-1 rounded",value:a,onChange:r=>{o(r.target.value)}}),e.jsx(c,{type:"submit",children:"Submit"}),k(a,t.favorites)?null:e.jsx(c,{onClick:()=>{t.addFavorite(a)},children:e.jsx(p,{className:"inline"})})]})})}function R(t){return w({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.22 8.22a.749.749 0 0 0 0 1.06l6.25 6.25a.749.749 0 0 0 1.06 0l6.25-6.25a.749.749 0 1 0-1.06-1.06L12 13.939 6.28 8.22a.749.749 0 0 0-1.06 0Z"},child:[]}]})(t)}const b={hot:"Hot",new:"New",topday:"Top (day)",topmonth:"Top (month)",topyear:"Top (year)",topall:"Top (all time)"};function T(){const t=j(),{mode:s}=t,[a,o]=u.useState(!1),r=u.useRef(null);return u.useEffect(()=>{function i(d){r.current&&!r.current.contains(d.target)&&o(!1)}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]),e.jsxs("div",{ref:r,className:"relative",children:[e.jsxs(c,{onClick:()=>{o(i=>!i)},id:"menu-button","aria-expanded":"true","aria-haspopup":"true",children:[b[s],e.jsx(R,{className:"inline"})]}),a?e.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none bg-white dark:bg-black",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:Object.entries(b).map(([i,d])=>e.jsxs(l,{onClick:()=>{t.setMode(i)},children:[e.jsx("label",{htmlFor:i,children:d}),e.jsx("input",{id:i,value:i,type:"radio",checked:s===i,onChange:m=>{t.setMode(m.target.value)}})]},i))}):null]})}function I({onClose:t,children:s}){const a=j(),{headerOnBottomOfScreen:o}=a,r=u.useRef(null);return u.useEffect(()=>{function i(d){r.current&&!r.current.contains(d.target)&&t()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[t]),e.jsx("div",{ref:r,className:`absolute ${o?"right-0 bottom-10 origin-bottom-right":"origin-top-right left-0"}  z-10 m-1 p-1 rounded-md shadow-lg focus:outline-none bg-white dark:bg-black max-h-[85vh] overflow-auto`,children:s})}function D({open:t,onClose:s,children:a}){return e.jsx(B,{open:t,onClose:s,children:a})}function U({open:t,onClose:s,children:a}){return S("(min-width: 768px)")?e.jsx(I,{onClose:s,children:a}):e.jsx(D,{open:t,onClose:s,children:a})}function A({setOpen:t}){const s=j(),{showMostVisitedSubreddits:a,showMostVisitedUsers:o,showRecentlyVisited:r,showLists:i,lists:d,favorites:m,recentlyVisited:C}=s;return e.jsx(U,{open:!0,onClose:()=>{t(void 0)},children:e.jsxs("div",{className:"max-w-3xl ",children:[e.jsx(E,{}),e.jsx(T,{}),e.jsxs(l,{onClick:()=>{t("settings")},children:[e.jsx(L,{className:"inline"})," Settings"]}),e.jsxs(l,{onClick:()=>{t("favoriteSubreddits")},children:[e.jsx(p,{className:"inline"})," Fav subs"]}),e.jsxs(l,{onClick:()=>{t("favoriteUsers")},children:[e.jsx(p,{className:"inline"})," Fav users"]}),e.jsxs(l,{onClick:()=>{s.setVal("savedposts")},children:[e.jsx(N,{className:"inline"})," Saved posts"]}),e.jsxs(l,{onClick:()=>{t("multi")},children:[e.jsx(M,{className:"inline"})," Make list"]}),e.jsxs(l,{onClick:()=>{t("blocked")},children:[e.jsx(V,{className:"inline"})," Blocked users"]}),e.jsx("hr",{}),d.length>0?e.jsxs("div",{children:[e.jsxs("div",{children:["Lists:"," ",e.jsx(c,{onClick:()=>{s.setShowLists(!i)},children:i?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),i?d.map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n.val)},children:["- ",n.name," ",e.jsx(c,{onClick:()=>{s.removeList(n.name)},children:e.jsx(y,{})})]},n.name)):null]}):null,e.jsx("hr",{}),e.jsxs("div",{children:["Most visited subreddits:"," ",e.jsx(c,{onClick:()=>{s.setShowMostVisitedSubreddits(!a)},children:a?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),a?m.filter(n=>!g(n.name)).sort((n,v)=>v.visitedCount-n.visitedCount).slice(0,5).map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n.name)},children:["- ",f(n.name)," (",n.visitedCount,")"]},n.name)):null,e.jsx("hr",{}),e.jsxs("div",{children:["Most visited users:"," ",e.jsx(c,{onClick:()=>{s.setShowMostVisitedUsers(!o)},children:o?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),o?m.filter(n=>g(n.name)).sort((n,v)=>v.visitedCount-n.visitedCount).slice(0,5).map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n.name)},children:["- ",f(n.name)," (",n.visitedCount,")"]},n.name)):null,e.jsx("hr",{}),e.jsxs("div",{children:["Recently visited:",e.jsx(c,{onClick:()=>{s.setShowRecentlyVisited(!r)},children:r?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),r?e.jsxs("div",{children:[C.filter(n=>n!=="savedposts").map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n)},children:["- ",f(n)]},n)),e.jsx(c,{onClick:()=>{s.clearRecentlyVisited()},children:"Clear"})]}):null,e.jsx("hr",{}),e.jsx("div",{children:e.jsx(F,{href:"https://github.com/codefeels/rpscroller/",target:"_blank",rel:"noreferrer",children:"Source code/about"})})]})})}export{A as default};
//# sourceMappingURL=HeaderMenu-BHFZKbk3.js.map
