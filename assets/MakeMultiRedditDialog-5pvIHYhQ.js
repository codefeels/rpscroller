import{u as b,r,i as p,j as e,e as A,B as a,l as v,o as C,p as f,n as k}from"./index-DdZeJbN3.js";import{f as g}from"./formatDistanceToNowStrict-DGPDrA_T.js";import"./en-US-Ckk-QizZ.js";function V({open:w,onClose:m}){const u=b(),{favorites:h}=u,[o,x]=r.useState([]),[i,l]=r.useState(-1),[n,d]=r.useState(0),[c,S]=r.useState(""),[N,D]=r.useState(!0),j=`/r/${o.map(s=>s.replace("user/","u_").replace("r/","")).join("+")}`,L=[...h.filter(s=>!p(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase())),...h.filter(s=>p(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase()))].map(s=>({...s,dateAdded:new Date(s.dateAdded)})).sort((s,t)=>(s.visitedCount-t.visitedCount)*i).sort((s,t)=>(+s.dateAdded-+t.dateAdded)*n);return e.jsx(A,{open:w,onClose:m,children:N?e.jsxs("div",{children:[e.jsxs("h4",{children:["Make multi-reddit",e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("input",{id:"multireddit",readOnly:!0,type:"text",value:j}),e.jsx(a,{onClick:()=>{D(!1)},children:"Create list"}),e.jsx(a,{onClick:()=>{x([])},children:"Clear"})]})})]}),e.jsx("div",{className:"max-h-[80vh] overflow-auto",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{d(0),l(i===0?-1:i===-1?1:0)},children:["# Visits"," ",i===1?e.jsx(v,{className:"inline"}):i===-1?e.jsx(C,{className:"inline"}):null]})}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{l(0),d(n===0?-1:n===-1?1:0)},children:["Date added"," ",n===1?e.jsx(v,{className:"inline"}):n===-1?e.jsx(C,{className:"inline"}):null]})})]})}),e.jsx("tbody",{children:L.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap",children:e.jsx(a,{onClick:()=>{o.includes(f(s.name))||x([...o,f(s.name)])},children:k(s.name)})}),e.jsx("td",{children:s.visitedCount}),e.jsx("td",{children:g(s.dateAdded,{addSuffix:!0})})]},s.name))})]})})]}):e.jsx("div",{className:"m-8",children:e.jsx("form",{onSubmit:s=>{s.preventDefault(),c&&(u.addList(j,c),m())},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"listname",children:"List name:"}),e.jsx("input",{id:"listname",type:"text",value:c,onChange:s=>{S(s.target.value)}}),e.jsx(a,{type:"submit",children:"Submit"})]})})})})}export{V as default};
//# sourceMappingURL=MakeMultiRedditDialog-5pvIHYhQ.js.map
