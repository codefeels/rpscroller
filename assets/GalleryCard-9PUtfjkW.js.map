{"version":3,"file":"GalleryCard-9PUtfjkW.js","sources":["../../src/GalleryCard.tsx"],"sourcesContent":["import { useState } from 'react'\n\nimport Button from './Button'\nimport ImageCard from './ImageCard'\nimport { type Post, decode } from './util'\n\nexport default function GalleryCard({ post }: { post: Post }) {\n  const { gallery_data, crosspost_parent_list } = post\n  const [frame, setFrame] = useState(0)\n  const items =\n    gallery_data?.items ?? crosspost_parent_list?.[0]?.gallery_data?.items\n  const media_metadata =\n    post.media_metadata ?? crosspost_parent_list?.[0]?.media_metadata\n\n  const { media_id = '', caption = '' } = items?.[frame] ?? {}\n  return items ? (\n    <div>\n      <div className=\"text-center\">\n        {caption} {frame + 1}/{items.length}\n      </div>\n\n      <ImageCard\n        title={caption}\n        url={decode(\n          media_metadata?.[media_id]?.s.u ??\n            media_metadata?.[media_id]?.s.gif ??\n            '',\n        )}\n      />\n\n      <div className=\"flex justify-center\">\n        <Button\n          disabled={frame <= 0}\n          onClick={() => {\n            setFrame(frame - 1)\n          }}\n        >\n          &lt;\n        </Button>\n        <Button\n          disabled={frame >= items.length - 1}\n          onClick={() => {\n            setFrame(frame + 1)\n          }}\n        >\n          &gt;\n        </Button>\n      </div>\n    </div>\n  ) : (\n    <div>Unknown gallery format (post may have been deleted)</div>\n  )\n}\n"],"names":["GalleryCard","post","gallery_data","crosspost_parent_list","frame","setFrame","useState","items","_b","_a","media_metadata","_c","media_id","caption","jsxs","jsx","ImageCard","decode","_d","_e","Button"],"mappings":"oRAMwB,SAAAA,EAAY,CAAE,KAAAC,GAAwB,eACtD,KAAA,CAAE,aAAAC,EAAc,sBAAAC,CAAA,EAA0BF,EAC1C,CAACG,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,CAAC,EAC9BC,GACJL,GAAA,YAAAA,EAAc,UAASM,GAAAC,EAAAN,GAAA,YAAAA,EAAwB,KAAxB,YAAAM,EAA4B,eAA5B,YAAAD,EAA0C,OAC7DE,EACJT,EAAK,kBAAkBU,EAAAR,GAAA,YAAAA,EAAwB,KAAxB,YAAAQ,EAA4B,gBAE/C,CAAE,SAAAC,EAAW,GAAI,QAAAC,EAAU,KAAON,GAAA,YAAAA,EAAQH,KAAU,CAAC,EACpD,OAAAG,SACJ,MACC,CAAA,SAAA,CAACO,EAAAA,KAAA,MAAA,CAAI,UAAU,cACZ,SAAA,CAAAD,EAAQ,IAAET,EAAQ,EAAE,IAAEG,EAAM,MAAA,EAC/B,EAEAQ,EAAA,IAACC,EAAA,CACC,MAAOH,EACP,IAAKI,IACHC,EAAAR,GAAA,YAAAA,EAAiBE,KAAjB,YAAAM,EAA4B,EAAE,MAC5BC,EAAAT,GAAA,YAAAA,EAAiBE,KAAjB,YAAAO,EAA4B,EAAE,MAC9B,EAAA,CACJ,CACF,EAEAL,EAAAA,KAAC,MAAI,CAAA,UAAU,sBACb,SAAA,CAAAC,EAAA,IAACK,EAAA,CACC,SAAUhB,GAAS,EACnB,QAAS,IAAM,CACbC,EAASD,EAAQ,CAAC,CACpB,EACD,SAAA,GAAA,CAED,EACAW,EAAA,IAACK,EAAA,CACC,SAAUhB,GAASG,EAAM,OAAS,EAClC,QAAS,IAAM,CACbF,EAASD,EAAQ,CAAC,CACpB,EACD,SAAA,GAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,EAECW,EAAAA,IAAA,MAAA,CAAI,SAAmD,qDAAA,CAAA,CAE5D"}