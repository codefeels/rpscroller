import{u as A,r as n,i as p,j as e,B as a,n as g,h as f}from"./index-C1s5DeBg.js";import{B as k,b as C,c as v}from"./BaseDialog-Cd5yuH4g.js";import{f as y}from"./formatDistanceToNowStrict-BGM-HUpS.js";import"./en-US-A-7Ux56e.js";function E({open:S,onClose:h}){const x=A(),{recentlyVisited:w,favorites:u}=x,[r,j]=n.useState([]),[i,l]=n.useState(-1),[d,o]=n.useState(0),[m,N]=n.useState(""),[b,D]=n.useState(!0),c=Object.fromEntries(w.map(s=>[s.name,s])),F=[...u.filter(s=>!p(s.name)).toSorted((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase())),...u.filter(s=>p(s.name)).toSorted((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase()))].map(s=>({...s,dateAdded:new Date(c[s.name]?.dateAdded??new Date)})).toSorted((s,t)=>((c[s.name]?.visitedCount??0)-(c[t.name]?.visitedCount??0))*i).toSorted((s,t)=>(+s.dateAdded-+t.dateAdded)*d);return e.jsx(k,{open:S,onClose:h,children:b?e.jsxs("div",{children:[e.jsx("h4",{children:"Make multi-reddit"}),e.jsxs("div",{children:[e.jsxs("div",{children:["Current feed: ",r.join(", ")]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{onClick:()=>{D(!1)},children:"Create feed"}),e.jsx(a,{onClick:()=>{j([])},children:"Clear"})]})]}),e.jsx("div",{className:"max-h-[80vh] overflow-auto",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{o(0),l(i===0?-1:i===-1?1:0)},children:["# Visits"," ",i===1?e.jsx(C,{className:"inline"}):i===-1?e.jsx(v,{className:"inline"}):null]})}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{l(0),o(d===0?-1:d===-1?1:0)},children:["Date added"," ",d===1?e.jsx(C,{className:"inline"}):d===-1?e.jsx(v,{className:"inline"}):null]})})]})}),e.jsx("tbody",{children:F.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap",children:e.jsx(a,{onClick:()=>{r.includes(f(s.name))||j([...r,f(s.name)])},children:g(s.name)})}),e.jsx("td",{children:c[s.name]?.visitedCount}),e.jsx("td",{children:y(s.dateAdded,{addSuffix:!0})})]},s.name))})]})})]}):e.jsx("div",{className:"m-8",children:e.jsx("form",{onSubmit:s=>{s.preventDefault(),m&&(x.createFeed({subreddits:r,feedName:m}),h())},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"feedname",children:"Feed name:"}),e.jsx("input",{id:"feedname",type:"text",className:"input",value:m,onChange:s=>{N(s.target.value)}}),e.jsx(a,{type:"submit",children:"Submit"})]})})})})}export{E as default};
//# sourceMappingURL=MakeMultiRedditDialog-BpB8fTH6.js.map
