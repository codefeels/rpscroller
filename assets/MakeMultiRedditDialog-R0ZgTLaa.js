import{u as g,a as d,k as C,j as e,g as y,B as a,o as v,p as w,n as L,q as S}from"./index-BouEHfai.js";import{f as M}from"./formatDistanceToNowStrict-BYAa6EDh.js";import"./en-US-haJ8O9Oa.js";function z({open:N,onClose:h}){const x=g(),{recentlyVisited:D,favorites:u}=x,[c,j]=d.useState([]),[i,r]=d.useState(-1),[n,l]=d.useState(0),[m,b]=d.useState(""),[F,k]=d.useState(!0),o=Object.fromEntries(D.map(s=>[s.name,s])),A=[...u.filter(s=>!C(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase())),...u.filter(s=>C(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase()))].map(s=>{var t;return{...s,dateAdded:new Date(((t=o[s.name])==null?void 0:t.dateAdded)??new Date)}}).sort((s,t)=>{var p,f;return((((p=o[s.name])==null?void 0:p.visitedCount)??0)-(((f=o[t.name])==null?void 0:f.visitedCount)??0))*i}).sort((s,t)=>(+s.dateAdded-+t.dateAdded)*n);return e.jsx(y,{open:N,onClose:h,children:F?e.jsxs("div",{children:[e.jsxs("h4",{children:["Make multi-reddit",e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(a,{onClick:()=>{k(!1)},children:"Create feed"}),e.jsx(a,{onClick:()=>{j([])},children:"Clear"})]})})]}),e.jsx("div",{className:"max-h-[80vh] overflow-auto",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{l(0),r(i===0?-1:i===-1?1:0)},children:["# Visits"," ",i===1?e.jsx(v,{className:"inline"}):i===-1?e.jsx(w,{className:"inline"}):null]})}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{r(0),l(n===0?-1:n===-1?1:0)},children:["Date added"," ",n===1?e.jsx(v,{className:"inline"}):n===-1?e.jsx(w,{className:"inline"}):null]})})]})}),e.jsx("tbody",{children:A.map(s=>{var t;return e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap",children:e.jsx(a,{onClick:()=>{c.includes(S(s.name))||j([...c,S(s.name)])},children:L(s.name)})}),e.jsx("td",{children:(t=o[s.name])==null?void 0:t.visitedCount}),e.jsx("td",{children:M(s.dateAdded,{addSuffix:!0})})]},s.name)})})]})})]}):e.jsx("div",{className:"m-8",children:e.jsx("form",{onSubmit:s=>{s.preventDefault(),m&&(x.createFeed({subreddits:c,feedName:m}),h())},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"feedname",children:"Feed name:"}),e.jsx("input",{id:"feedname",type:"text",value:m,onChange:s=>{b(s.target.value)}}),e.jsx(a,{type:"submit",children:"Submit"})]})})})})}export{z as default};
//# sourceMappingURL=MakeMultiRedditDialog-R0ZgTLaa.js.map
