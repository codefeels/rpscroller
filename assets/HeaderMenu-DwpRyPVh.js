import{j as e,u as j,r as u,h as w,G as k,i as g,n as f}from"./index-Ihy08W7q.js";import{I as N}from"./index-DrtIT9Ql.js";import{M as p,a as S}from"./index-Neg71-Qt.js";import{F as M,a as V,b as h,c as x,d as y}from"./index-tGctV_vJ.js";import{B as d}from"./Button-CgCNXrVK.js";import{a as F}from"./index-CKdSAwxY.js";import{B as L}from"./BaseDialog-CgIZB-oz.js";import"./util-BiULzenF.js";function l({children:n,onClick:s}){return e.jsx("div",{className:"hover:bg-gray-300 dark:hover:bg-gray-600 cursor-pointer m-1 whitespace-nowrap",onClick:s,children:n})}function B(){const n=j(),{val:s}=n,[a,r]=u.useState(s);return u.useEffect(()=>{r(s)},[s]),e.jsx("form",{className:"inline",onSubmit:o=>{o.preventDefault(),n.setVal(a)},children:e.jsxs("div",{className:"max-w-full flex",children:[e.jsx("input",{id:"box",type:"text",tabIndex:0,className:"m-1 rounded",value:a,onChange:o=>{r(o.target.value)}}),e.jsx(d,{type:"submit",children:"Submit"}),w(a,n.favorites)?null:e.jsx(d,{onClick:()=>{n.addFavorite(a)},children:e.jsx(p,{className:"inline"})})]})})}function E(n){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.22 8.22a.749.749 0 0 0 0 1.06l6.25 6.25a.749.749 0 0 0 1.06 0l6.25-6.25a.749.749 0 1 0-1.06-1.06L12 13.939 6.28 8.22a.749.749 0 0 0-1.06 0Z"},child:[]}]})(n)}const b={hot:"Hot",new:"New",topday:"Top (day)",topmonth:"Top (month)",topyear:"Top (year)",topall:"Top (all time)"};function R(){const n=j(),{mode:s}=n,[a,r]=u.useState(!1),o=u.useRef(null);return u.useEffect(()=>{function i(c){o.current&&!o.current.contains(c.target)&&r(!1)}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]),e.jsxs("div",{ref:o,className:"relative",children:[e.jsxs(d,{onClick:()=>{r(i=>!i)},id:"menu-button","aria-expanded":"true","aria-haspopup":"true",children:[b[s],e.jsx(E,{className:"inline"})]}),a?e.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none bg-white dark:bg-black",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:Object.entries(b).map(([i,c])=>e.jsxs(l,{onClick:()=>{n.setMode(i)},children:[e.jsx("label",{htmlFor:i,children:c}),e.jsx("input",{id:i,value:i,type:"radio",checked:s===i,onChange:m=>{n.setMode(m.target.value)}})]},i))}):null]})}function I({onClose:n,children:s}){const a=j(),{headerOnBottomOfScreen:r}=a,o=u.useRef(null);return u.useEffect(()=>{function i(c){o.current&&!o.current.contains(c.target)&&c.target.id!=="menubutton"&&n()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[n]),e.jsx("div",{ref:o,className:`absolute ${r?"right-0 bottom-10 origin-bottom-right":"origin-top-right left-0"}  z-10 m-1 p-1 rounded-md shadow-lg focus:outline-none bg-white dark:bg-black max-h-[85vh] overflow-auto`,children:s})}function T({open:n,onClose:s,children:a}){return e.jsx(L,{open:n,onClose:s,children:a})}function D({open:n,onClose:s,children:a}){return F("(min-width: 768px)")?e.jsx(I,{onClose:s,children:a}):e.jsx(T,{open:n,onClose:s,children:a})}function Z({setOpen:n}){const s=j(),{showMostVisitedSubreddits:a,showMostVisitedUsers:r,showRecentlyVisited:o,showLists:i,lists:c,favorites:m,recentlyVisited:C}=s;return e.jsx(D,{open:!0,onClose:()=>{n(void 0)},children:e.jsxs("div",{className:"max-w-3xl ",children:[e.jsx(B,{}),e.jsx(R,{}),e.jsxs(l,{onClick:()=>{n("settings")},children:[e.jsx(N,{className:"inline"})," Settings"]}),e.jsxs(l,{onClick:()=>{n("favoriteSubreddits")},children:[e.jsx(p,{className:"inline"})," Fav subs"]}),e.jsxs(l,{onClick:()=>{n("favoriteUsers")},children:[e.jsx(p,{className:"inline"})," Fav users"]}),e.jsxs(l,{onClick:()=>{s.setVal("savedposts")},children:[e.jsx(M,{className:"inline"})," Saved posts"]}),e.jsxs(l,{onClick:()=>{n("multi")},children:[e.jsx(V,{className:"inline"})," Make list"]}),e.jsxs(l,{onClick:()=>{n("blocked")},children:[e.jsx(S,{className:"inline"})," Blocked users"]}),e.jsx("hr",{}),c.length>0?e.jsxs("div",{children:[e.jsxs("div",{children:["Lists:"," ",e.jsx(d,{onClick:()=>{s.setShowLists(!i)},children:i?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),i?c.map(t=>e.jsxs(l,{onClick:()=>{s.setVal(t.val)},children:["- ",t.name," ",e.jsx(d,{onClick:()=>{s.removeList(t.name)},children:e.jsx(y,{})})]},t.name)):null]}):null,e.jsx("hr",{}),e.jsxs("div",{children:["Most visited (fav'd) subreddits:"," ",e.jsx(d,{onClick:()=>{s.setShowMostVisitedSubreddits(!a)},children:a?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),a?m.filter(t=>!g(t.name)).sort((t,v)=>v.visitedCount-t.visitedCount).slice(0,5).map(t=>e.jsxs(l,{onClick:()=>{s.setVal(t.name)},children:["- ",f(t.name)," (",t.visitedCount,")"]},t.name)):null,e.jsx("hr",{}),e.jsxs("div",{children:["Most visited (fav'd) users:"," ",e.jsx(d,{onClick:()=>{s.setShowMostVisitedUsers(!r)},children:r?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),r?m.filter(t=>g(t.name)).sort((t,v)=>v.visitedCount-t.visitedCount).slice(0,5).map(t=>e.jsxs(l,{onClick:()=>{s.setVal(t.name)},children:["- ",f(t.name)," (",t.visitedCount,")"]},t.name)):null,e.jsx("hr",{}),e.jsxs("div",{children:["Recently visited:",e.jsx(d,{onClick:()=>{s.setShowRecentlyVisited(!o)},children:o?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),o?e.jsxs("div",{children:[C.filter(t=>t!=="savedposts").map(t=>e.jsxs(l,{onClick:()=>{s.setVal(t)},children:["- ",f(t)]},t)),e.jsx(d,{onClick:()=>{s.clearRecentlyVisited()},children:"Clear"})]}):null,e.jsx("hr",{}),e.jsx(l,{onClick:()=>{n("about")},children:"About"})]})})}export{Z as default};
//# sourceMappingURL=HeaderMenu-DwpRyPVh.js.map
