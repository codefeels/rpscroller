{"version":3,"file":"GalleryCard-26Nx6v2z.js","sources":["../../src/GalleryCard.tsx"],"sourcesContent":["import { useState } from 'react'\n\nimport Button from './Button'\nimport ImageCard from './ImageCard'\nimport { type Post, decode } from './util'\n\nexport default function GalleryCard({ post }: { post: Post }) {\n  const { gallery_data, crosspost_parent_list } = post\n  const [frame, setFrame] = useState(0)\n  const items =\n    gallery_data?.items ?? crosspost_parent_list?.[0]?.gallery_data?.items\n  const media_metadata =\n    post.media_metadata ?? crosspost_parent_list?.[0]?.media_metadata\n\n  const { media_id = '', caption = '' } = items?.[frame] ?? {}\n  return items ? (\n    <div>\n      <div className=\"text-center\">\n        {caption} {frame + 1}/{items.length}\n      </div>\n\n      <ImageCard\n        title={caption}\n        url={decode(\n          media_metadata?.[media_id]?.s.u ??\n            media_metadata?.[media_id]?.s.gif ??\n            '',\n        )}\n      />\n\n      <div className=\"flex justify-center\">\n        <Button\n          disabled={frame <= 0}\n          onClick={() => {\n            setFrame(frame - 1)\n          }}\n        >\n          &lt;\n        </Button>\n        <Button\n          disabled={frame >= items.length - 1}\n          onClick={() => {\n            setFrame(frame + 1)\n          }}\n        >\n          &gt;\n        </Button>\n      </div>\n    </div>\n  ) : (\n    <div>Unknown gallery format (post may have been deleted)</div>\n  )\n}\n"],"names":["GalleryCard","post","gallery_data","crosspost_parent_list","frame","setFrame","useState","items","media_metadata","media_id","caption","jsxs","jsx","ImageCard","decode","Button"],"mappings":"oRAMA,SAAwBA,EAAY,CAAE,KAAAC,GAAwB,CAC5D,KAAM,CAAE,aAAAC,EAAc,sBAAAC,CAAA,EAA0BF,EAC1C,CAACG,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,CAAC,EAC9BC,EACJL,GAAc,OAASC,IAAwB,CAAC,GAAG,cAAc,MAC7DK,EACJP,EAAK,gBAAkBE,IAAwB,CAAC,GAAG,eAE/C,CAAE,SAAAM,EAAW,GAAI,QAAAC,EAAU,IAAOH,IAAQH,CAAK,GAAK,CAAA,EAC1D,OAAOG,SACJ,MAAA,CACC,SAAA,CAAAI,EAAAA,KAAC,MAAA,CAAI,UAAU,cACZ,SAAA,CAAAD,EAAQ,IAAEN,EAAQ,EAAE,IAAEG,EAAM,MAAA,EAC/B,EAEAK,EAAAA,IAACC,EAAA,CACC,MAAOH,EACP,IAAKI,EACHN,IAAiBC,CAAQ,GAAG,EAAE,GAC5BD,IAAiBC,CAAQ,GAAG,EAAE,KAC9B,EAAA,CACJ,CAAA,EAGFE,EAAAA,KAAC,MAAA,CAAI,UAAU,sBACb,SAAA,CAAAC,EAAAA,IAACG,EAAA,CACC,SAAUX,GAAS,EACnB,QAAS,IAAM,CACbC,EAASD,EAAQ,CAAC,CAAA,EAErB,SAAA,GAAA,CAAA,EAGDQ,EAAAA,IAACG,EAAA,CACC,SAAUX,GAASG,EAAM,OAAS,EAClC,QAAS,IAAM,CACbF,EAASD,EAAQ,CAAC,CAAA,EAErB,SAAA,GAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,EAEAQ,EAAAA,IAAC,MAAA,CAAI,SAAA,qDAAA,CAAmD,CAE5D"}