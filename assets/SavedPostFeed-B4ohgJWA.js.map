{"version":3,"file":"SavedPostFeed-B4ohgJWA.js","sources":["../../src/SavedPostFeed.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\n\n// components\nimport LoadingSpinner from './LoadingSpinner'\nimport ErrorMessage from './ErrorMessage'\nimport CardList from './CardList'\n\n// data\nimport type { Post } from './util'\nimport { dbPromise } from './savedPostsDb'\nimport { useAppStore } from './store'\n\nexport default function SavedPostFeed() {\n  const store = useAppStore()\n  const [data, setData] = useState<Post[]>()\n  const [error, setError] = useState<unknown>()\n\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    ;(async () => {\n      try {\n        const db = await dbPromise\n        const data = await db.getAll('savedPosts')\n        setData(data)\n      } catch (error) {\n        console.error(error)\n        setError(error)\n      }\n    })()\n  }, [store.rerenderCount])\n\n  return (\n    <div>\n      {data === undefined ? (\n        <div className=\"flex justify-center\">\n          <LoadingSpinner />\n        </div>\n      ) : error ? (\n        <ErrorMessage error={error as unknown} />\n      ) : (\n        <CardList posts={data} />\n      )}\n    </div>\n  )\n}\n"],"names":["SavedPostFeed","store","useAppStore","data","setData","useState","error","setError","useEffect","dbPromise","jsx","LoadingSpinner","ErrorMessage","CardList"],"mappings":"wNAYA,SAAwBA,GAAgB,CACtC,MAAMC,EAAQC,EAAY,EACpB,CAACC,EAAMC,CAAO,EAAIC,WAAiB,EACnC,CAACC,EAAOC,CAAQ,EAAIF,WAAkB,EAE5CG,OAAAA,EAAAA,UAAU,IAAM,EAEZ,SAAY,CACR,GAAA,CAEF,MAAML,EAAO,MADF,MAAMM,GACK,OAAO,YAAY,EACzCL,EAAQD,CAAI,QACLG,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBC,EAASD,CAAK,CAAA,CAChB,GACC,CAAA,EACF,CAACL,EAAM,aAAa,CAAC,EAGtBS,EAAA,IAAC,OACE,SAASP,IAAA,aACP,MAAI,CAAA,UAAU,sBACb,SAACO,EAAAA,IAAAC,EAAA,CAAe,CAAA,CAClB,CAAA,EACEL,QACDM,EAAa,CAAA,MAAAN,CAAA,CAAyB,EAEtCI,EAAAA,IAAAG,EAAA,CAAS,MAAOV,CAAA,CAAM,CAE3B,CAAA,CAEJ"}