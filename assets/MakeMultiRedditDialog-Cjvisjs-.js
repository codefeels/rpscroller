import{u as b,r as n,k as j,j as e,f as F,B as a,o as p,p as f,q as C,n as k}from"./index-BkAPqfe_.js";import{f as A}from"./formatDistanceToNowStrict-DGPDrA_T.js";import"./en-US-Ckk-QizZ.js";function M({open:v,onClose:m}){const h=b(),{favorites:x}=h,[o,u]=n.useState([]),[i,r]=n.useState(-1),[d,l]=n.useState(0),[c,w]=n.useState(""),[S,N]=n.useState(!0),D=[...x.filter(s=>!j(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase())),...x.filter(s=>j(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase()))].map(s=>({...s,dateAdded:new Date(s.dateAdded)})).sort((s,t)=>(s.visitedCount-t.visitedCount)*i).sort((s,t)=>(+s.dateAdded-+t.dateAdded)*d);return e.jsx(F,{open:v,onClose:m,children:S?e.jsxs("div",{children:[e.jsxs("h4",{children:["Make multi-reddit",e.jsx("div",{children:e.jsxs("div",{children:[e.jsx(a,{onClick:()=>{N(!1)},children:"Create feed"}),e.jsx(a,{onClick:()=>{u([])},children:"Clear"})]})})]}),e.jsx("div",{className:"max-h-[80vh] overflow-auto",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{l(0),r(i===0?-1:i===-1?1:0)},children:["# Visits"," ",i===1?e.jsx(p,{className:"inline"}):i===-1?e.jsx(f,{className:"inline"}):null]})}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(a,{onClick:()=>{r(0),l(d===0?-1:d===-1?1:0)},children:["Date added"," ",d===1?e.jsx(p,{className:"inline"}):d===-1?e.jsx(f,{className:"inline"}):null]})})]})}),e.jsx("tbody",{children:D.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap",children:e.jsx(a,{onClick:()=>{o.includes(C(s.name))||u([...o,C(s.name)])},children:k(s.name)})}),e.jsx("td",{children:s.visitedCount}),e.jsx("td",{children:A(s.dateAdded,{addSuffix:!0})})]},s.name))})]})})]}):e.jsx("div",{className:"m-8",children:e.jsx("form",{onSubmit:s=>{s.preventDefault(),c&&(h.createFeed({subreddits:o,feedName:c}),m())},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"feedname",children:"Feed name:"}),e.jsx("input",{id:"feedname",type:"text",value:c,onChange:s=>{w(s.target.value)}}),e.jsx(a,{type:"submit",children:"Submit"})]})})})})}export{M as default};
//# sourceMappingURL=MakeMultiRedditDialog-Cjvisjs-.js.map
