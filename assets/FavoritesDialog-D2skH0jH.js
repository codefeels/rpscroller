import{u as A,r as S,j as s,n as C}from"./index-C0yL_HrZ.js";import{a as I}from"./index-BJpE_roC.js";import{b as X}from"./index-DU8c9Pzc.js";import{F as v,a as F}from"./index-B8Wwa9vY.js";import{B as x}from"./Button-BqGE-TP4.js";import{B as O}from"./BaseDialog-D5PhKoOr.js";import{n as w,t as M,c as g,g as _,e as T,a as b,m as y,b as j,f as Y,i as k}from"./en-US-BMpFqNE4.js";function H(a,i,e){const[d,t]=w(e==null?void 0:e.in,a,i),c=d.getFullYear()-t.getFullYear(),o=d.getMonth()-t.getMonth();return c*12+o}function z(a,i){return+M(a)-+M(i)}function B(a,i){const e=M(a);return e.setHours(23,59,59,999),e}function V(a,i){const e=M(a),d=e.getMonth();return e.setFullYear(e.getFullYear(),d+1,0),e.setHours(23,59,59,999),e}function p(a,i){const e=M(a);return+B(e)==+V(e)}function E(a,i,e){const[d,t,c]=w(e==null?void 0:e.in,a,a,i),o=g(t,c),n=Math.abs(H(t,c));if(n<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-o*n);let f=g(t,c)===-o;p(d)&&n===1&&g(d,c)===1&&(f=!1);const u=o*(n-+f);return u===0?0:u}function L(a,i,e){const d=z(a,i)/1e3;return _(e==null?void 0:e.roundingMethod)(d)}function R(a,i,e){const d=Y(),t=(e==null?void 0:e.locale)??d.locale??T,c=2520,o=g(a,i);if(isNaN(o))throw new RangeError("Invalid time value");const n=Object.assign({},e,{addSuffix:e==null?void 0:e.addSuffix,comparison:o}),[f,u]=w(e==null?void 0:e.in,...o>0?[i,a]:[a,i]),r=L(u,f),D=(b(u)-b(f))/1e3,l=Math.round((r-D)/60);let h;if(l<2)return e!=null&&e.includeSeconds?r<5?t.formatDistance("lessThanXSeconds",5,n):r<10?t.formatDistance("lessThanXSeconds",10,n):r<20?t.formatDistance("lessThanXSeconds",20,n):r<40?t.formatDistance("halfAMinute",0,n):r<60?t.formatDistance("lessThanXMinutes",1,n):t.formatDistance("xMinutes",1,n):l===0?t.formatDistance("lessThanXMinutes",1,n):t.formatDistance("xMinutes",l,n);if(l<45)return t.formatDistance("xMinutes",l,n);if(l<90)return t.formatDistance("aboutXHours",1,n);if(l<y){const m=Math.round(l/60);return t.formatDistance("aboutXHours",m,n)}else{if(l<c)return t.formatDistance("xDays",1,n);if(l<j){const m=Math.round(l/y);return t.formatDistance("xDays",m,n)}else if(l<j*2)return h=Math.round(l/j),t.formatDistance("aboutXMonths",h,n)}if(h=E(u,f),h<12){const m=Math.round(l/j);return t.formatDistance("xMonths",m,n)}else{const m=h%12,N=Math.trunc(h/12);return m<3?t.formatDistance("aboutXYears",N,n):m<9?t.formatDistance("overXYears",N,n):t.formatDistance("almostXYears",N+1,n)}}function U(a,i){return R(a,k(a),i)}function Z({open:a,onClose:i,favorites:e,title:d}){const t=A(),[c,o]=S.useState(-1),[n,f]=S.useState(0),u=[...e].map(r=>({...r,dateAdded:new Date(r.dateAdded)})).sort((r,D)=>(r.visitedCount-D.visitedCount)*c).sort((r,D)=>(+r.dateAdded-+D.dateAdded)*n);return s.jsxs(O,{open:a,onClose:i,children:[s.jsx("h4",{className:"font-extrabold",children:d}),e.length===0?s.jsx("div",{children:"No favorites"}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{className:"whitespace-nowrap",children:s.jsxs(x,{onClick:()=>{f(0),o(c===0?-1:c===-1?1:0)},children:["# Visits"," ",c===1?s.jsx(v,{className:"inline"}):c===-1?s.jsx(F,{className:"inline"}):null]})}),s.jsx("th",{className:"whitespace-nowrap",children:s.jsxs(x,{onClick:()=>{o(0),f(n===0?-1:n===-1?1:0)},children:["Date added"," ",n===1?s.jsx(v,{className:"inline"}):n===-1?s.jsx(F,{className:"inline"}):null]})}),s.jsx("th",{className:"whitespace-nowrap",children:"Delete"}),s.jsx("th",{className:"whitespace-nowrap",children:"Home"})]})}),s.jsx("tbody",{children:u.map(r=>s.jsxs("tr",{children:[s.jsx("td",{className:"whitespace-nowrap",children:s.jsx(x,{onClick:()=>{t.setVal(r.name)},children:C(r.name)})}),s.jsx("td",{children:r.visitedCount}),s.jsx("td",{children:U(r.dateAdded,{addSuffix:!0})}),s.jsx("td",{children:s.jsx(x,{onClick:()=>{t.removeFavorite(r.name)},children:s.jsx(X,{className:"inline"})})}),s.jsx("td",{children:s.jsx(x,{onClick:()=>{t.setDefaultPage(r.name)},children:s.jsx(I,{className:"inline"})})})]},r.name))})]})})]})}export{Z as F};
//# sourceMappingURL=FavoritesDialog-D2skH0jH.js.map
