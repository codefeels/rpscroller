import{j as e,u as j,r as u,B as d,h as w,M as p,G as k,a as N,F as S,b as M,c as V,d as h,e as x,f as y,i as g,n as f}from"./index-DphhH-tW.js";import{I as F}from"./index-BGx-3tHY.js";import{B as L}from"./BaseDialog-mVphHhtf.js";function l({children:t,onClick:s}){return e.jsx("div",{className:"hover:bg-gray-300 dark:hover:bg-gray-600 cursor-pointer m-1 whitespace-nowrap",onClick:s,children:t})}function B(){const t=j(),{val:s}=t,[a,r]=u.useState(s);return u.useEffect(()=>{r(s)},[s]),e.jsx("form",{className:"inline",onSubmit:o=>{o.preventDefault(),t.setVal(a)},children:e.jsxs("div",{className:"max-w-full flex",children:[e.jsx("input",{id:"box",type:"text",className:"m-1 rounded",value:a,onChange:o=>{r(o.target.value)}}),e.jsx(d,{type:"submit",children:"Submit"}),w(a,t.favorites)?null:e.jsx(d,{onClick:()=>{t.addFavorite(a)},children:e.jsx(p,{className:"inline"})})]})})}function E(t){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.22 8.22a.749.749 0 0 0 0 1.06l6.25 6.25a.749.749 0 0 0 1.06 0l6.25-6.25a.749.749 0 1 0-1.06-1.06L12 13.939 6.28 8.22a.749.749 0 0 0-1.06 0Z"},child:[]}]})(t)}const b={hot:"Hot",new:"New",topday:"Top (day)",topmonth:"Top (month)",topyear:"Top (year)",topall:"Top (all time)"};function R(){const t=j(),{mode:s}=t,[a,r]=u.useState(!1),o=u.useRef(null);return u.useEffect(()=>{function i(c){o.current&&!o.current.contains(c.target)&&r(!1)}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[]),e.jsxs("div",{ref:o,className:"relative",children:[e.jsxs(d,{onClick:()=>{r(i=>!i)},id:"menu-button","aria-expanded":"true","aria-haspopup":"true",children:[b[s],e.jsx(E,{className:"inline"})]}),a?e.jsx("div",{className:"absolute left-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none bg-white dark:bg-black",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:Object.entries(b).map(([i,c])=>e.jsxs(l,{onClick:()=>{t.setMode(i)},children:[e.jsx("label",{htmlFor:i,children:c}),e.jsx("input",{id:i,value:i,type:"radio",checked:s===i,onChange:m=>{t.setMode(m.target.value)}})]},i))}):null]})}function T({onClose:t,children:s}){const a=j(),{headerOnBottomOfScreen:r}=a,o=u.useRef(null);return u.useEffect(()=>{function i(c){o.current&&!o.current.contains(c.target)&&c.target.id!=="menubutton"&&t()}return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[t]),e.jsx("div",{ref:o,className:`absolute ${r?"right-0 bottom-10 origin-bottom-right":"origin-top-right left-0"}  z-10 m-1 p-1 rounded-md shadow-lg focus:outline-none bg-white dark:bg-black max-h-[85vh] overflow-auto`,children:s})}function I({open:t,onClose:s,children:a}){return e.jsx(L,{open:t,onClose:s,children:a})}function D({open:t,onClose:s,children:a}){return N("(min-width: 768px)")?e.jsx(T,{onClose:s,children:a}):e.jsx(I,{open:t,onClose:s,children:a})}function H({setOpen:t}){const s=j(),{showMostVisitedSubreddits:a,showMostVisitedUsers:r,showRecentlyVisited:o,showLists:i,lists:c,favorites:m,recentlyVisited:C}=s;return e.jsx(D,{open:!0,onClose:()=>{t(void 0)},children:e.jsxs("div",{className:"max-w-3xl ",children:[e.jsx(B,{}),e.jsx(R,{}),e.jsxs(l,{onClick:()=>{t("settings")},children:[e.jsx(F,{className:"inline"})," Settings"]}),e.jsxs(l,{onClick:()=>{t("favoriteSubreddits")},children:[e.jsx(p,{className:"inline"})," Fav subs"]}),e.jsxs(l,{onClick:()=>{t("favoriteUsers")},children:[e.jsx(p,{className:"inline"})," Fav users"]}),e.jsxs(l,{onClick:()=>{s.setVal("savedposts")},children:[e.jsx(S,{className:"inline"})," Saved posts"]}),e.jsxs(l,{onClick:()=>{t("multi")},children:[e.jsx(M,{className:"inline"})," Make list"]}),e.jsxs(l,{onClick:()=>{t("blocked")},children:[e.jsx(V,{className:"inline"})," Blocked users"]}),e.jsx("hr",{}),c.length>0?e.jsxs("div",{children:[e.jsxs("div",{children:["Lists:"," ",e.jsx(d,{onClick:()=>{s.setShowLists(!i)},children:i?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),i?c.map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n.val)},children:["- ",n.name," ",e.jsx(d,{onClick:()=>{s.removeList(n.name)},children:e.jsx(y,{})})]},n.name)):null]}):null,e.jsx("hr",{}),e.jsxs("div",{children:["Most visited subreddits:"," ",e.jsx(d,{onClick:()=>{s.setShowMostVisitedSubreddits(!a)},children:a?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),a?m.filter(n=>!g(n.name)).sort((n,v)=>v.visitedCount-n.visitedCount).slice(0,5).map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n.name)},children:["- ",f(n.name)," (",n.visitedCount,")"]},n.name)):null,e.jsx("hr",{}),e.jsxs("div",{children:["Most visited users:"," ",e.jsx(d,{onClick:()=>{s.setShowMostVisitedUsers(!r)},children:r?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),r?m.filter(n=>g(n.name)).sort((n,v)=>v.visitedCount-n.visitedCount).slice(0,5).map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n.name)},children:["- ",f(n.name)," (",n.visitedCount,")"]},n.name)):null,e.jsx("hr",{}),e.jsxs("div",{children:["Recently visited:",e.jsx(d,{onClick:()=>{s.setShowRecentlyVisited(!o)},children:o?e.jsx(h,{className:"inline"}):e.jsx(x,{className:"inline"})})]}),o?e.jsxs("div",{children:[C.filter(n=>n!=="savedposts").map(n=>e.jsxs(l,{onClick:()=>{s.setVal(n)},children:["- ",f(n)]},n)),e.jsx(d,{onClick:()=>{s.clearRecentlyVisited()},children:"Clear"})]}):null,e.jsx("hr",{}),e.jsx(l,{onClick:()=>{t("about")},children:"About"})]})})}export{H as default};
//# sourceMappingURL=HeaderMenu-B8VYzM0W.js.map
