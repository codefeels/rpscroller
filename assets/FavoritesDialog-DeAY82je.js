import{u as I,r as N,j as s,B as D,L as A,n as F,g as X,I as C}from"./index-Dnp6kvaJ.js";import{B as O,b as S,c as v}from"./BaseDialog-ByVtQnx4.js";import{n as w,t as x,c as M,g as _,a as b,b as T,e as Y,m as y,d as j,f as k}from"./en-US-A-7Ux56e.js";function H(o,r,a){const[c,e]=w(a?.in,o,r),f=c.getFullYear()-e.getFullYear(),i=c.getMonth()-e.getMonth();return f*12+i}function L(o,r){return+x(o)-+x(r)}function z(o,r){const a=x(o);return a.setHours(23,59,59,999),a}function B(o,r){const a=x(o),c=a.getMonth();return a.setFullYear(a.getFullYear(),c+1,0),a.setHours(23,59,59,999),a}function E(o,r){const a=x(o);return+z(a)==+B(a)}function V(o,r,a){const[c,e,f]=w(a?.in,o,o,r),i=M(e,f),n=Math.abs(H(e,f));if(n<1)return 0;e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-i*n);let l=M(e,f)===-i;E(c)&&n===1&&M(c,f)===1&&(l=!1);const d=i*(n-+l);return d===0?0:d}function R(o,r,a){const c=L(o,r)/1e3;return _(a?.roundingMethod)(c)}function U(o,r,a){const c=T(),e=a?.locale??c.locale??Y,f=2520,i=M(o,r);if(isNaN(i))throw new RangeError("Invalid time value");const n=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:i}),[l,d]=w(a?.in,...i>0?[r,o]:[o,r]),u=R(d,l),p=(b(d)-b(l))/1e3,t=Math.round((u-p)/60);let h;if(t<2)return a?.includeSeconds?u<5?e.formatDistance("lessThanXSeconds",5,n):u<10?e.formatDistance("lessThanXSeconds",10,n):u<20?e.formatDistance("lessThanXSeconds",20,n):u<40?e.formatDistance("halfAMinute",0,n):u<60?e.formatDistance("lessThanXMinutes",1,n):e.formatDistance("xMinutes",1,n):t===0?e.formatDistance("lessThanXMinutes",1,n):e.formatDistance("xMinutes",t,n);if(t<45)return e.formatDistance("xMinutes",t,n);if(t<90)return e.formatDistance("aboutXHours",1,n);if(t<y){const m=Math.round(t/60);return e.formatDistance("aboutXHours",m,n)}else{if(t<f)return e.formatDistance("xDays",1,n);if(t<j){const m=Math.round(t/y);return e.formatDistance("xDays",m,n)}else if(t<j*2)return h=Math.round(t/j),e.formatDistance("aboutXMonths",h,n)}if(h=V(d,l),h<12){const m=Math.round(t/j);return e.formatDistance("xMonths",m,n)}else{const m=h%12,g=Math.trunc(h/12);return m<3?e.formatDistance("aboutXYears",g,n):m<9?e.formatDistance("overXYears",g,n):e.formatDistance("almostXYears",g+1,n)}}function P(o,r){return U(o,k(o),r)}function K({open:o,onClose:r,favorites:a,title:c}){const e=I(),{recentlyVisited:f}=e,[i,n]=N.useState(-1),[l,d]=N.useState(0),u=Object.fromEntries(f.map(t=>[t.name,t])),p=a.map(t=>({...t,dateAdded:new Date(u[t.name]?.dateAdded??new Date)})).sort((t,h)=>((u[t.name]?.visitedCount??0)-(u[h.name]?.visitedCount??0))*i).sort((t,h)=>(+t.dateAdded-+h.dateAdded)*l);return s.jsxs(O,{open:o,onClose:r,children:[s.jsx("h4",{className:"font-extrabold",children:c}),a.length===0?s.jsx("div",{children:"No favorites"}):s.jsx("div",{className:"overflow-auto",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{className:"whitespace-nowrap",children:s.jsxs(D,{onClick:()=>{d(0),n(i===0?-1:i===-1?1:0)},children:["# Visits"," ",i===1?s.jsx(S,{className:"inline"}):i===-1?s.jsx(v,{className:"inline"}):null]})}),s.jsx("th",{className:"whitespace-nowrap",children:s.jsxs(D,{onClick:()=>{n(0),d(l===0?-1:l===-1?1:0)},children:["Date added"," ",l===1?s.jsx(S,{className:"inline"}):l===-1?s.jsx(v,{className:"inline"}):null]})}),s.jsx("th",{className:"whitespace-nowrap",children:"Delete"}),s.jsx("th",{className:"whitespace-nowrap",children:"Home"})]})}),s.jsx("tbody",{children:p.map(t=>s.jsxs("tr",{children:[s.jsx("td",{className:"whitespace-nowrap",children:s.jsx(A,{to:t.name,children:s.jsx(D,{children:F(t.name)})})}),s.jsx("td",{children:u[t.name]?.visitedCount}),s.jsx("td",{children:P(t.dateAdded,{addSuffix:!0})}),s.jsx("td",{children:s.jsx(D,{onClick:()=>{e.removeFavorite(t.name)},children:s.jsx(X,{className:"inline"})})}),s.jsx("td",{children:s.jsx(D,{onClick:()=>{e.setDefaultPage(t.name)},children:s.jsx(C,{className:"inline"})})})]},t.name))})]})})]})}export{K as F};
//# sourceMappingURL=FavoritesDialog-DeAY82je.js.map
