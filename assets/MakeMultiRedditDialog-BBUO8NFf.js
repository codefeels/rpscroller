import{u as b,r as n,i as p,j as e,a as f,n as A}from"./index-C0yL_HrZ.js";import{F as v,a as C}from"./index-B8Wwa9vY.js";import{B as i}from"./Button-BqGE-TP4.js";import{B as k}from"./BaseDialog-D5PhKoOr.js";import{f as g}from"./formatDistanceToNowStrict-MBlLrx-r.js";import"./util-9s3NlqMM.js";import"./en-US-BMpFqNE4.js";function R({open:w,onClose:m}){const u=b(),{favorites:h}=u,[o,x]=n.useState([]),[a,l]=n.useState(-1),[r,d]=n.useState(0),[c,S]=n.useState(""),[N,D]=n.useState(!0),j=`/r/${o.map(s=>s.replace("user/","u_").replace("r/","")).join("+")}`,L=[...h.filter(s=>!p(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase())),...h.filter(s=>p(s.name)).sort((s,t)=>s.name.toLowerCase().localeCompare(t.name.toLowerCase()))].map(s=>({...s,dateAdded:new Date(s.dateAdded)})).sort((s,t)=>(s.visitedCount-t.visitedCount)*a).sort((s,t)=>(+s.dateAdded-+t.dateAdded)*r);return e.jsx(k,{open:w,onClose:m,children:N?e.jsxs("div",{children:[e.jsxs("h4",{children:["Make multi-reddit",e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("input",{id:"multireddit",readOnly:!0,type:"text",value:j}),e.jsx(i,{onClick:()=>{D(!1)},children:"Create list"}),e.jsx(i,{onClick:()=>{x([])},children:"Clear"})]})})]}),e.jsx("div",{className:"max-h-[80vh] overflow-auto",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(i,{onClick:()=>{d(0),l(a===0?-1:a===-1?1:0)},children:["# Visits"," ",a===1?e.jsx(v,{className:"inline"}):a===-1?e.jsx(C,{className:"inline"}):null]})}),e.jsx("th",{className:"whitespace-nowrap",children:e.jsxs(i,{onClick:()=>{l(0),d(r===0?-1:r===-1?1:0)},children:["Date added"," ",r===1?e.jsx(v,{className:"inline"}):r===-1?e.jsx(C,{className:"inline"}):null]})})]})}),e.jsx("tbody",{children:L.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"whitespace-nowrap",children:e.jsx(i,{onClick:()=>{o.includes(f(s.name))||x([...o,f(s.name)])},children:A(s.name)})}),e.jsx("td",{children:s.visitedCount}),e.jsx("td",{children:g(s.dateAdded,{addSuffix:!0})})]},s.name))})]})})]}):e.jsx("div",{className:"m-8",children:e.jsx("form",{onSubmit:s=>{s.preventDefault(),c&&(u.addList(j,c),m())},children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"listname",children:"List name:"}),e.jsx("input",{autoFocus:!0,id:"listname",type:"text",value:c,onChange:s=>{S(s.target.value)}}),e.jsx(i,{type:"submit",children:"Submit"})]})})})})}export{R as default};
//# sourceMappingURL=MakeMultiRedditDialog-BBUO8NFf.js.map
