{"version":3,"file":"SavedPostFeed-cAV1tMSc.js","sources":["../../src/SavedPostFeed.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nimport CardList from './CardList'\nimport ErrorMessage from './ErrorMessage'\nimport LoadingSpinner from './LoadingSpinner'\nimport { dbPromise } from './savedPostsDb'\nimport { useAppStore } from './store'\n\nimport type { Post } from './util'\n\nexport default function SavedPostFeed() {\n  const store = useAppStore()\n  const [data, setData] = useState<Post[]>()\n  const [error, setError] = useState<unknown>()\n\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    ;(async () => {\n      try {\n        const db = await dbPromise\n        const data = await db.getAll('savedPosts')\n        setData(data)\n      } catch (error) {\n        console.error(error)\n        setError(error)\n      }\n    })()\n  }, [store.rerenderCount])\n\n  return (\n    <div>\n      {data === undefined ? (\n        <div className=\"flex justify-center\">\n          <LoadingSpinner />\n        </div>\n      ) : error ? (\n        <ErrorMessage error={error as unknown} />\n      ) : (\n        <CardList posts={data} />\n      )}\n    </div>\n  )\n}\n"],"names":["SavedPostFeed","store","useAppStore","data","setData","useState","error","setError","useEffect","dbPromise","jsx","LoadingSpinner","ErrorMessage","CardList"],"mappings":"kSAUA,SAAwBA,GAAgB,CACtC,MAAMC,EAAQC,EAAA,EACR,CAACC,EAAMC,CAAO,EAAIC,WAAA,EAClB,CAACC,EAAOC,CAAQ,EAAIF,WAAA,EAE1BG,OAAAA,EAAAA,UAAU,IAAM,EAEZ,SAAY,CACZ,GAAI,CAEF,MAAML,EAAO,MADF,MAAMM,GACK,OAAO,YAAY,EACzCL,EAAQD,CAAI,CAAA,OACLG,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBC,EAASD,CAAK,CAAA,CAChB,GACF,CAAG,EACF,CAACL,EAAM,aAAa,CAAC,EAGtBS,EAAAA,IAAC,OACE,SAAAP,IAAS,aACP,MAAA,CAAI,UAAU,sBACb,SAAAO,EAAAA,IAACC,EAAA,EAAe,EAClB,EACEL,QACDM,EAAA,CAAa,MAAAN,CAAA,CAAyB,EAEvCI,EAAAA,IAACG,EAAA,CAAS,MAAOV,CAAA,CAAM,CAAA,CAE3B,CAEJ"}